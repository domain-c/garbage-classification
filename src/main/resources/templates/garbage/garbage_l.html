<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="common/common::commonStyle('用户管理',~{::link})">
    <link rel="stylesheet" th:href="@{/static/adminlte/plugins/datatables/dataTables.bootstrap.css}"/>
    <!--<link rel="stylesheet" th:href="@{/static/css/datetimepicker/bootstrap-datetimepicker.min.css}" />-->
</head>
<body class="hold-transition skin-blue sidebar-mini">
<div class="wrapper">
    <!-- 引入header-->
    <div th:replace="common/common::commonHeader"></div>
    <!-- 引入left菜单栏 -->
    <div th:replace="common/common::commonLeft(1)"></div>

    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <h1>分类管理
                <small></small>
            </h1>
            <ol class="breadcrumb">
                <li><a><i class="fa fa-dashboard"></i>中心</a></li>
                <li class="active">垃圾列表</li>
            </ol>
        </section>

        <!-- Main content -->
        <section class="content">
            <div class="row">
                <div class="col-xs-2">
                    <div class="input-group">
                            <span class="input-group-addon">
                                <select id="s_type">
                                    <option value="1">垃圾名称</option>
                                    <option value="2">工号</option>
                                </select>
                            </span>
                        <input type="text" class="form-control" id="key" autocomplete="on">
                    </div>
                </div>
                <div class="col-xs-1">
                    <button class="btn btn-block btn-info" id="searchBtn">搜索</button>
                </div>
                <div class="col-xs-1">
                    <button class="btn btn-block btn-success" id="add" type="button">新增垃圾</button>
                </div>
                <div class="col-xs-1">
                    <button class="btn btn-block btn-success" id="edit" type="button">垃圾修改</button>
                </div>
            </div>

            <!-- 全部配置 -->
            <div class="box box-info2">
                <div class="box-body">
                    <table id="garbage_list" class="table table-bordered table-hover" width="100%">
                        <thead>
                        <tr>
                            <th>编号</th>
                            <th>垃圾分类</th>
                            <th>垃圾名称</th>
                            <th>详述</th>
                            <!--<th>操作</th>-->
                        </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
        </section>
        <!-- section end -->
    </div>
    <div th:replace="common/common::commonFooter"></div>
</div>


<!-- 新增.模态框 -->
<div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">新增垃圾</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal form" role="form">
                    <div class="form-group">
                        <label class="col-sm-2 control-label">垃圾归类</label>
                        <!--<div class="input-group col-sm-8"><input type="text" class="form-control" name="username"-->
                        <!--placeholder="请输入姓名" maxlength="100"></div>-->
                        <!--1 可回收 2 有害 3 湿垃圾 4 干垃圾-->
                        <div class="input-group col-sm-8">
                            <select class="form-control" name="type">
                                <option value="1"><span style="color: red;">可回收垃圾</span></option>
                                <option value="2"><span>有害垃圾</span></option>
                                <option value="3"><span>湿垃圾</span></option>
                                <option value="4"><span>干垃圾</span></option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">垃圾名称</label>
                        <div class="input-group col-sm-8"><input type="text" class="form-control" name="garbageName"
                                                                 placeholder="请输入垃圾名称" maxlength="50"></div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">描述</label>
                        <div class="input-group col-sm-8"><input type="text" class="form-control" name="detail"
                                                                 placeholder="请输入描述" maxlength="255" required></div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-10">
                            <button type="submit" class="btn btn-primary">保存</button>
                            &nbsp;&nbsp;&nbsp;&nbsp;
                            <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- 员工积分修改对话框-->
<div class="modal fade" id="editPoints" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">修改积分与成长值</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal form" role="form">
                    <input type="hidden" name="employeeId" id="employeeId" value="0"/>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">姓名</label>
                        <div class="col-sm-10">
                            <p class="text-left" id="username">姓名</p>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">工号</label>
                        <div class="col-sm-10">
                            <p class="text-left" id="jobNo">工号</p>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">积分</label>
                        <div class="col-sm-10"><input type="number" class="form-control" name="point"
                                                      placeholder="0不调整，正数加积分，负数表示扣减积分"
                                                      onkeyup="clearNoNum(this)"></div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">成长值</label>
                        <div class="col-sm-10"><input type="number" class="form-control" name="growthValue"
                                                      placeholder="0不调整，正数加成长值，负数表示扣减成长值"
                                                      oninput="if( this.value.length > 4 )  this.value = this.value.slice(0,6)">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">说明</label>
                        <div class="col-sm-10"><input type="text" class="form-control" name="reason"
                                                      placeholder="请输入调整说明" maxlength="100"></div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-10">
                            <button type="submit" class="btn btn-primary">保存</button>
                            <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>

                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- js引入-->
<div th:replace="common/common::commonScript(~{::script})">
    <script th:replace="common/common::outerJs01"></script>
    <script th:src="@{/static/adminlte/plugins/datatables/jquery.dataTables.min.js}"></script>
    <script th:src="@{/static/adminlte/plugins/datatables/dataTables.bootstrap.min.js}"></script>

    <script th:src="@{/static/adminlte/plugins/daterangepicker/moment.min.js}"></script>
    <script th:src="@{/static/js/garbage.js}" th:inline="javascript"></script>

    <!--<script th:src="@{/static/plugins/jquery-ocupload/jquery.ocupload-1.1.2.js}"></script>-->
    <!--<script th:src="@{/static/js/uploadExcel.js}"></script>-->
    <!--<script th:src="@{/static/js/editEmployeePoint.js}"></script>-->
</div>

<script language="JavaScript" type="text/javascript">
    function clearNoNum(obj) {
        // console.log("原值", obj.value);
        //清除“数字”和“.”以外的字符
        // obj.value = obj.value.replace(/^(\-)?\d+(\.\d{1,2})?$/g, "");
        // console.log("第一", obj.value);
        // //只保留第一个. 清除多余的
        // obj.value = obj.value.replace(/\.{2,}/g, ".");
        // console.log("第二", obj.value);
        // obj.value = obj.value.replace(".", "$#$").replace(/\./g, "").replace("$#$", ".");
        // console.log("第三", obj.value);
        // //只能输入两个小数
        obj.value = obj.value.replace(/^(\-)*(\d+)\.(\d\d).*$/, '$1$2.$3');
        // console.log("第四", obj.value);
        // //以上已经过滤，此处控制的是如果没有小数点，首位不能为类似于 01、02的金额
        if (obj.value.indexOf(".") < 0 && obj.value != "") {
            // console.log("最终", obj.value);
            obj.value = parseFloat(obj.value);
        }
    }
</script>
</body>
</html>
